<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>epitraxr - R Package for EpiTrax Data and Report Generation • epitraxr</title><script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="epitraxr - R Package for EpiTrax Data and Report Generation"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">epitraxr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.4.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="articles/epitraxr.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="articles/piped-mode.html">Piped Mode</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json"></form></li>
      </ul></div>


  </div>
</nav><div class="container template-title-body">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>epitraxr - R Package for EpiTrax Data and Report Generation</h1>

    </div>

<div id="epitraxr---r-package-for-epitrax-data-and-report-generation" class="section level1">

<p>Always reference these instructions first and fallback to search or bash commands only when you encounter unexpected information that does not match the info here.</p>
<div class="section level2">
<h2 id="working-effectively">Working Effectively<a class="anchor" aria-label="anchor" href="#working-effectively"></a></h2>
<p><strong>Bootstrap and setup the development environment:</strong> - Install R and system dependencies: <code>bash   sudo apt update &amp;&amp; sudo apt install -y r-base r-base-dev build-essential libcurl4-openssl-dev libssl-dev libxml2-dev pandoc</code> - Install required R package dependencies via apt (avoids network issues): <code>bash   sudo apt install -y r-cran-devtools r-cran-lubridate r-cran-yaml r-cran-tinytest</code></p>
<p><strong>Build and install the package:</strong> - Build and install locally: <code>sudo R CMD INSTALL .</code> – takes 2 seconds. Set timeout to 10 seconds. - The package installs successfully and includes sample data in <code>inst/sample_data/sample_epitrax_data.csv</code></p>
<p><strong>Run tests:</strong> - Test using tinytest framework: <code>R -e "library(epitraxr); tinytest::test_package('epitraxr')" --no-restore</code> – takes 0.5 seconds. Set timeout to 10 seconds. - All tests must pass before a PR is approved. If any tests fail, they must be fixed first. - Tests are located in <code>inst/tinytest/</code> and cover data validation, report generation, and filesystem operations. - To test specific functionality, you can run individual test files: <code>R -e "library(epitraxr); tinytest::run_test_file('inst/tinytest/test_filename.R')" --no-restore</code></p>
</div>
<div class="section level2">
<h2 id="key-development-operations">Key Development Operations<a class="anchor" aria-label="anchor" href="#key-development-operations"></a></h2>
<p><strong>R CMD check (for comprehensive validation):</strong> - <code>R CMD check --no-manual .</code> - The package should pass R CMD check</p>
<p><strong>Pre-commit hooks:</strong> - Install: <code>pip install pre-commit &amp;&amp; pre-commit install</code> - Run: <code>pre-commit run --all-files</code> – May encounter network connectivity issues with R environment bootstrap. This is not critical for basic development. - The project uses <code>.pre-commit-config.yaml</code> with hooks for trailing whitespace, YAML validation, and R-specific checks.</p>
</div>
<div class="section level2">
<h2 id="repository-structure">Repository Structure<a class="anchor" aria-label="anchor" href="#repository-structure"></a></h2>
<p><strong>Core directories:</strong> - <code>R/</code> - Main package code (data.R, epitrax.R, filesystem.R, helpers.R, reports.R, validation.R) - <code>inst/</code> - Package installation files including sample data and test files - <code>inst/sample_data/</code> - Sample EpiTrax CSV data for testing and examples - <code>inst/tinytest/</code> - Test suite using tinytest framework - <code>scripts/</code> - Utility and example scripts showing package usage - <code>man/</code> - Generated documentation files. Since these are automatically generated, never manually change anything in this directory. Running the R command <code>devtools::check()</code> should build these for you. - <code>tests/tinytest.R</code> - Entry point for running tests</p>
<p><strong>Key files:</strong> - <code>DESCRIPTION</code> - Package metadata and dependencies - <code>README.Rmd</code> - Source for README.md (edit this, not README.md directly) - <code>.pre-commit-config.yaml</code> - Pre-commit hook configuration</p>
</div>
<div class="section level2">
<h2 id="testing-strategy">Testing Strategy<a class="anchor" aria-label="anchor" href="#testing-strategy"></a></h2>
<p><strong>Primary testing approach:</strong> - Use the comprehensive tinytest test suite: <code>R -e "library(epitraxr); tinytest::test_package('epitraxr')" --no-restore</code> - For targeted testing after changes to specific files, run individual test files: <code>R -e "tinytest::run_test_file('inst/tinytest/test_[component].R')" --no-restore</code> - All tests must pass before submitting a PR</p>
</div>
<div class="section level2">
<h2 id="common-development-tasks">Common Development Tasks<a class="anchor" aria-label="anchor" href="#common-development-tasks"></a></h2>
<p><strong>When adding new functions:</strong> - Every new function must have an accompanying roxygen block with proper documentation - Every new function must have corresponding unit tests in the appropriate test file in <code>inst/tinytest/</code> - Follow existing patterns for documentation and testing</p>
<p><strong>When modifying data processing functions:</strong> - Run tests for the specific component: <code>R -e "library(epitraxr); tinytest::run_test_file('inst/tinytest/test_data.R')" --no-restore</code> - Ensure all existing tests continue to pass</p>
<p><strong>When modifying report generation:</strong> - Run tests for report functionality: <code>R -e "library(epitraxr); tinytest::run_test_file('inst/tinytest/test_reports.R')" --no-restore</code> - Verify that report generation tests pass</p>
<p><strong>When modifying file system functions:</strong> - Run tests for filesystem functionality: <code>R -e "library(epitraxr); tinytest::run_test_file('inst/tinytest/test_filesystem.R')" --no-restore</code> - Test directory creation and cleanup functionality</p>
</div>
<div class="section level2">
<h2 id="github-workflows">GitHub Workflows<a class="anchor" aria-label="anchor" href="#github-workflows"></a></h2>
<p>The project includes: - <code>.github/workflows/r-check.yaml</code> - R CMD check across multiple platforms and R versions - <code>.github/workflows/build-for-cran.yaml</code> - CRAN-ready package building - <code>.github/workflows/pkgdown.yaml</code> - Documentation site generation</p>
<p><strong>Important timing notes:</strong> - All local development operations complete in under 10 seconds - Package installation: 2 seconds - Full test suite: 0.5 seconds<br>
- Individual test files: &lt; 0.2 seconds - NEVER CANCEL these operations - they are fast and reliable</p>
</div>
<div class="section level2">
<h2 id="dependencies">Dependencies<a class="anchor" aria-label="anchor" href="#dependencies"></a></h2>
<p><strong>System dependencies (installed via apt):</strong> - r-base, r-base-dev, build-essential - libcurl4-openssl-dev, libssl-dev, libxml2-dev, pandoc</p>
<p><strong>R package dependencies (from DESCRIPTION):</strong> - lubridate, stats, utils, writexl, yaml (Imports) - readxl, tinytest, rmarkdown (Suggests)</p>
<p><strong>All dependencies available via apt packages to avoid network issues during development.</strong></p>
</div>
</div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Andrew Pulsipher, Nate Lanza, Centers for Disease Control and Prevention’s Center for Forecasting and Outbreak Analytics.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

